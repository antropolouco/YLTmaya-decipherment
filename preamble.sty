\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{preamble}[Things which are needed for literally all tex files in this project]

% creates links in table of contents
\RequirePackage{hyperref}

% for pictures etc.
\RequirePackage{graphicx}

% provides \currfiledir used in graphicspath
\RequirePackage[abspath]{currfile}

% for spaces in commands
\RequirePackage{xspace}

% quoting and bibliography
\RequirePackage[backend=biber,style=alphabetic]{biblatex}
\RequirePackage{csquotes}

% figures/subfigures
% hypcap=false disables non-useful warning "Warning: The option hypcap=true will be ignored for this"
\RequirePackage[hypcap=false]{caption}
\RequirePackage{subcaption} 

% our own stuff everything maya located maya.sty
\RequirePackage{maya}                                     % 

% disable non-useful warning: "PDF inclusion: multiple pdfs with page group included in a single page"
\pdfsuppresswarningpagegroup=1

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% stuff for headline and footer
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\RequirePackage{scrlayer-scrpage}
\pagestyle{scrheadings}
\clearpairofpagestyles
\automark[]{chapter}
\ohead[]{\rightmark}
\ofoot[\pagemark]{\pagemark}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Subfiles support
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\RequirePackage{subfiles}
% redefine subfile command to make sure 'maya/img' folder in all sub folders are found
\makeatletter
\let\org@subfile\subfile
\renewcommand*{\subfile}[1]{%
 \filename@parse{#1}% LaTeX's file name parser
 \expandafter
 \graphicspath\expandafter{{maya/}\expandafter{\filename@area img/}}%
 \org@subfile{#1}%
}
\makeatother

% get document version
\input{document-version.tex}